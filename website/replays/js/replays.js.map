{"version":3,"file":"replays.js","names":["SearchPanel","_preact$Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","results","resultError","format","user","isPrivate","byRating","page","loggedInUser","loggedInUserIsSysop","sort","submitForm","e","_querySelector","_querySelector2","_querySelector3","preventDefault","base","querySelector","value","checked","search","cancelForm","searchLoggedIn","_proto","prototype","componentDidMount","_this2","Net","get","then","result","charAt","_result$slice$split","slice","split","userid","sysop","forceUpdate","updateSearch","decodeQuery","props","id","componentDidUpdate","previousProps","query","parseInt","parseResponse","response","JSON","parse","isArray","actionerror","_this3","undefined","querySelectorAll","recent","PSRouter","replace","encodeQuery","username","error","modLink","overrides","newPage","_this4","url","replay","viewpointSwitched","toID","p2","password","formatid","startsWith","test","uploadtime","render","_this$results","_this5","_this$results2","activelySearching","hasNextPageLink","searchResults","preact","h","map","href","rating","p1","showingRight","onSubmit","type","name","placeholder","size","onClick","FeaturedReplays","Component","_preact$Component2","_this6","_len2","_key2","moreFun","moreCompetitive","showMoreFun","showMoreCompetitive","_proto2","style","paddingLeft","_PSModel","_class4","_this7","baseLoc","leftLoc","rightLoc","forceSinglePanel","stickyRight","baseLocSlashIndex","document","location","lastIndexOf","go","setSinglePanel","window","history","addEventListener","popState","update","onresize","_proto3","showingLeft","init","singlePanel","innerWidth","innerHeight","push","_window$history","pushState","loc","_window$history2","replaceState","state","_e$state","PSModel","PSReplays","_preact$Component3","_proto4","_this8","subscribe","el","target","parentNode","tagName","stopImmediatePropagation","position","display","flexDirection","justifyContent","BattlePanel","clear","getElementById","matchMedia","matches","documentElement","className","event"],"sources":["../src/replays.tsx"],"sourcesContent":["/** @jsx preact.h */\nimport preact from 'preact';\nimport {Net, PSModel} from './utils';\nimport {BattlePanel} from './replays-battle';\ndeclare function toID(input: string): string;\n\ninterface ReplayResult {\n  uploadtime: number;\n  id: string;\n  format: string;\n  p1: string;\n  p2: string;\n  password?: string;\n  rating?: number;\n}\n\nclass SearchPanel extends preact.Component<{id: string}> {\n  results: ReplayResult[] | null = null;\n  resultError: string | null = null;\n  format = '';\n  user = '';\n  isPrivate = false;\n  byRating = false;\n  page = 1;\n  loggedInUser: string | null = null;\n  loggedInUserIsSysop = false;\n  sort = 'date';\n  override componentDidMount() {\n    Net('check-login.php').get().then(result => {\n      if (result.charAt(0) !== ']') return;\n      const [userid, sysop] = result.slice(1).split(',');\n      this.loggedInUser = userid;\n      this.loggedInUserIsSysop = !!sysop;\n      this.forceUpdate();\n    });\n    this.updateSearch(Net.decodeQuery(this.props.id));\n  }\n  override componentDidUpdate(previousProps: this['props']) {\n    if (this.props.id === previousProps.id) return;\n    const query = Net.decodeQuery(this.props.id);\n    const page = parseInt(query.page || '1');\n    const byRating = (query.sort === 'rating');\n    if (page !== this.page || byRating !== this.byRating) this.updateSearch(query);\n  }\n  updateSearch(query: {[k: string]: string}) {\n    const user = query.user || '';\n    const format = query.format || '';\n    const page = parseInt(query.page || '1');\n    const isPrivate = !!query.private;\n    this.byRating = (query.sort === 'rating');\n    this.search(user, format, isPrivate, page);\n  }\n  parseResponse(response: string, isPrivate?: boolean) {\n    this.results = null;\n    this.resultError = null;\n\n    if (isPrivate) {\n      if (response.charAt(0) !== ']') {\n        this.resultError = `Unrecognized response: ${response}`;\n        return;\n      }\n      response = response.slice(1);\n    }\n    const results = JSON.parse(response);\n    if (!Array.isArray(results)) {\n      this.resultError = results.actionerror || `Unrecognized response: ${response}`;\n      return;\n    }\n    this.results = results;\n  }\n  search(user: string, format: string, isPrivate?: boolean, page = 1) {\n    this.base!.querySelector<HTMLInputElement>('input[name=user]')!.value = user;\n    this.base!.querySelector<HTMLInputElement>('input[name=format]')!.value = format;\n    this.base!.querySelectorAll<HTMLInputElement>('input[name=private]')[isPrivate ? 1 : 0]!.checked = true;\n\n    if (!format && !user) return this.recent();\n    this.user = user;\n    this.format = format;\n    this.isPrivate = !!isPrivate;\n    this.page = page;\n    this.results = null;\n    this.resultError = null;\n    if (user || !format) this.byRating = false;\n\n    if (!format && !user) {\n      PSRouter.replace('')\n    } else {\n      PSRouter.replace('?' + Net.encodeQuery({\n        user: user || undefined,\n        format: format || undefined,\n        private: isPrivate ? '1' : undefined,\n        page: page === 1 ? undefined : page,\n        sort: this.byRating ? 'rating' : undefined,\n      }));\n    }\n    this.forceUpdate();\n    Net(`/api/replays/${isPrivate ? 'searchprivate' : 'search'}`).get({\n      query: {\n        username: this.user,\n        format: this.format,\n        page,\n        sort: this.byRating ? 'rating' : undefined,\n      },\n    }).then(response => {\n      if (this.format !== format || this.user !== user) return;\n      this.parseResponse(response, true);\n      this.forceUpdate();\n    }).catch(error => {\n      if (this.format !== '' || this.user !== '') return;\n      this.resultError = '' + error;\n      this.forceUpdate();\n    });\n  }\n  modLink(overrides: {page?: number, sort?: string}) {\n    const newPage = (overrides.page !== undefined ? this.page + overrides.page : 1);\n    return './?' + Net.encodeQuery({\n      user: this.user || undefined,\n      format: this.format || undefined,\n      private: this.isPrivate ? '1' : undefined,\n      page: newPage === 1 ? undefined : newPage,\n      sort: (overrides.sort ? overrides.sort === 'rating' : this.byRating) ? 'rating' : undefined,\n    });\n  }\n  recent() {\n    this.format = '';\n    this.user = '';\n    this.results = null;\n    this.forceUpdate();\n    Net('/api/replays/recent').get().then(response => {\n      if (this.format !== '' || this.user !== '') return;\n      this.parseResponse(response, true);\n      this.forceUpdate();\n    }).catch(error => {\n      if (this.format !== '' || this.user !== '') return;\n      this.resultError = '' + error;\n      this.forceUpdate();\n    });\n  }\n  submitForm = (e: Event) => {\n    e.preventDefault();\n    const format = this.base!.querySelector<HTMLInputElement>('input[name=format]')?.value || '';\n    const user = this.base!.querySelector<HTMLInputElement>('input[name=user]')?.value || '';\n    const isPrivate = !this.base!.querySelector<HTMLInputElement>('input[name=private]')?.checked;\n    this.search(user, format, isPrivate);\n  };\n  cancelForm = (e: Event) => {\n    e.preventDefault();\n    this.search('', '');\n  };\n  searchLoggedIn = (e: Event) => {\n    if (!this.loggedInUser) return; // shouldn't happen\n    (this.base!.querySelector('input[name=user]') as HTMLInputElement).value = this.loggedInUser;\n    this.submitForm(e);\n  };\n  url(replay: ReplayResult) {\n    const viewpointSwitched = (toID(replay.p2) === toID(this.user));\n    return replay.id + (replay.password ? `-${replay.password}pw` : '') + (viewpointSwitched ? '?p2' : '');\n  }\n  formatid(replay: ReplayResult) {\n    let formatid = replay.format;\n    if (!formatid.startsWith('gen') || !/[0-9]/.test(formatid.charAt(3))) {\n      // 2013 Oct 14, two days after X and Y were released; good enough\n      // estimate for when we renamed `ou` to `gen5ou`.\n      formatid = (replay.uploadtime > 1381734000 ? 'gen6' : 'gen5') + formatid;\n    }\n    if (!/^gen[0-9]+-/.test(formatid)) {\n      formatid = formatid.slice(0, 4) + '-' + formatid.slice(4);\n    }\n    return formatid;\n  }\n  override render() {\n    const activelySearching = !!(this.format || this.user);\n    const hasNextPageLink = (this.results?.length || 0) > 50;\n    const results = hasNextPageLink ? this.results!.slice(0, 50) : this.results;\n    const searchResults = <ul class=\"linklist\">\n      {(this.resultError && <li>\n        <strong class=\"message-error\">{this.resultError}</strong>\n      </li>) ||\n      (!results && <li>\n        <em>Loading...</em>\n      </li>) ||\n      (results?.map(result => <li>\n        <a href={this.url(result)} class=\"blocklink\">\n          <small>[{this.formatid(result)}]{result.rating ? ` Rating: ${result.rating}` : ''}<br /></small>\n          <strong>{result.p1}</strong> vs. <strong>{result.p2}</strong>\n        </a>\n      </li>))}\n    </ul>;\n    return <div class={PSRouter.showingRight() ? 'sidebar' : ''}>\n      <section class=\"section first-section\">\n        <h1>Search replays</h1>\n        <form onSubmit={this.submitForm}>\n          <p>\n            <label>\n              Username:<br />\n              <input type=\"search\" class=\"textbox\" name=\"user\" placeholder=\"(blank = any user)\" size={20} /> {}\n              {this.loggedInUser && <button type=\"button\" class=\"button\" onClick={this.searchLoggedIn}>{this.loggedInUser}'s replays</button>}\n            </label>\n          </p>\n          <p>\n            <label>Format:<br />\n            <input type=\"search\" class=\"textbox\" name=\"format\" placeholder=\"(blank = any format)\" size={30} /></label>\n          </p>\n          <p>\n            <label class=\"checkbox inline\"><input type=\"radio\" name=\"private\" value=\"\" /> Public</label> {}\n            <label class=\"checkbox inline\"><input type=\"radio\" name=\"private\" value=\"1\" /> Private (your own replays only)</label>\n          </p>\n          <p>\n            <button type=\"submit\" class=\"button\"><i class=\"fa fa-search\" aria-hidden></i> <strong>Search</strong></button> {}\n            {activelySearching && <button class=\"button\" onClick={this.cancelForm}>Cancel</button>}\n          </p>\n          {activelySearching && <h1 aria-label=\"Results\"></h1>}\n          {activelySearching && this.format && !this.user && <p>\n            Sort by: {}\n            <a href={this.modLink({sort: 'date'})} class={`button button-first${this.byRating ? '' : ' disabled'}`}>\n              Date\n            </a>\n            <a href={this.modLink({sort: 'rating'})} class={`button button-last${this.byRating ? ' disabled' : ''}`}>\n              Rating\n            </a>\n          </p>}\n          {activelySearching && this.page > 1 && <p class=\"pagelink\">\n            <a href={this.modLink({page: -1})} class=\"button\"><i class=\"fa fa-caret-up\"></i><br />Page {this.page - 1}</a>\n          </p>}\n          {activelySearching && searchResults}\n          {activelySearching && (this.results?.length || 0) > 50 && <p class=\"pagelink\">\n            <a href={this.modLink({page: 1})} class=\"button\">Page {this.page + 1}<br /><i class=\"fa fa-caret-down\"></i></a>\n          </p>}\n        </form>\n      </section>\n      {!activelySearching && <FeaturedReplays />}\n      {!activelySearching && <section class=\"section\">\n        <h1>Recent replays</h1>\n        <ul class=\"linklist\">\n          {searchResults}\n        </ul>\n      </section>}\n    </div>;\n  }\n}\n\nclass FeaturedReplays extends preact.Component {\n  moreFun = false;\n  moreCompetitive = false;\n  showMoreFun = (e: Event) => {\n    e.preventDefault();\n    this.moreFun = true;\n    this.forceUpdate();\n  };\n  showMoreCompetitive = (e: Event) => {\n    e.preventDefault();\n    this.moreCompetitive = true;\n    this.forceUpdate();\n  };\n  override render() {\n    return <section class=\"section\">\n      <h1>Featured replays</h1>\n      <ul class=\"linklist\">\n        <li><h2>Fun</h2></li>\n        <li><a href=\"oumonotype-82345404\" class=\"blocklink\">\n          <small>[gen6-oumonotype]<br /></small>\n          <strong>kdarewolf</strong> vs. <strong>Onox</strong>\n          <small><br />Protean + prediction</small>\n        </a></li>\n        <li><a href=\"anythinggoes-218380995\" class=\"blocklink\">\n          <small>[gen6-anythinggoes]<br /></small>\n          <strong>Anta2</strong> vs. <strong>dscottnew</strong>\n          <small><br />Cheek Pouch</small>\n        </a></li>\n        <li><a href=\"uberssuspecttest-147833524\" class=\"blocklink\">\n          <small>[gen6-ubers]<br /></small>\n          <strong>Metal Brellow</strong> vs. <strong>zig100</strong>\n          <small><br />Topsy-Turvy</small>\n        </a></li>\n        {!this.moreFun && <li style={{paddingLeft: '8px'}}>\n          <button class=\"button\" onClick={this.showMoreFun}>More <i class=\"fa fa-caret-right\" aria-hidden></i></button>\n        </li>}\n        {this.moreFun && <li><a href=\"smogondoubles-75588440?p2\" class=\"blocklink\">\n          <small>[gen6-smogondoubles]<br /></small>\n          <strong>jamace6</strong> vs. <strong>DubsWelder</strong>\n          <small><br />Garchomp sweeps 11 pokemon</small>\n        </a></li>}\n        {this.moreFun && <li><a href=\"ou-20651579?p2\" class=\"blocklink\">\n          <small>[gen5-ou]<br /></small>\n          <strong>RainSeven07</strong> vs. <strong>my body is regi</strong>\n          <small><br />An entire team based on Assist V-create</small>\n        </a></li>}\n        {this.moreFun && <li><a href=\"balancedhackmons7322360?p2\" class=\"blocklink\">\n          <small>[gen5-balancedhackmons]<br /></small>\n          <strong>a ver</strong> vs. <strong>Shuckie</strong>\n          <small><br />To a ver's frustration, PP stall is viable in Balanced Hackmons</small>\n        </a></li>}\n        <h2>Competitive</h2>\n        <li><a href=\"doublesou-232753081\" class=\"blocklink\">\n          <small>[gen6-doublesou]<br /></small>\n          <strong>Electrolyte</strong> vs. <strong>finally</strong>\n          <small><br />finally steals Electrolyte's spot in the finals of the Doubles Winter Seasonal by outplaying Toxic Aegislash.</small>\n        </a></li>\n        <li><a href=\"smogtours-gen5ou-59402\" class=\"blocklink\">\n          <small>[gen5-ou]<br /></small>\n          <strong>Reymedy</strong> vs. <strong>Leftiez</strong>\n          <small><br />Reymedy's superior grasp over BW OU lead to his claim of victory over Leftiez in the No Johns Tournament.</small>\n        </a></li>\n        <li><a href=\"smogtours-gen3ou-56583\" class=\"blocklink\">\n          <small>[gen3-ou]<br /></small>\n          <strong>pokebasket</strong> vs. <strong>Alf'</strong>\n          <small><br />pokebasket proved Blissey isn't really one to take a Focus Punch well in his victory match over Alf' in the Fuck Trappers ADV OU tournament.</small>\n        </a></li>\n        <li><a href=\"smogtours-ou-55891\" class=\"blocklink\">\n          <small>[gen6-ou]<br /></small>\n          <strong>Marshall.Law</strong> vs. <strong>Malekith</strong>\n          <small><br />In a \"match full of reverses\", Marshall.Law takes on Malekith in the finals of It's No Use.</small>\n        </a></li>\n        <li><a href=\"smogtours-ubers-54583\" class=\"blocklink\">\n          <small>[gen6-custom]<br /></small>\n          <strong>hard</strong> vs. <strong>panamaxis</strong>\n          <small><br />Dark horse panamaxis proves his worth as the rightful winner of The Walkthrough Tournament in this exciting final versus hard.</small>\n        </a></li>\n        {!this.moreCompetitive && <li style={{paddingLeft: '8px'}}>\n          <button class=\"button\" onClick={this.showMoreCompetitive}>More <i class=\"fa fa-caret-right\" aria-hidden></i></button>\n        </li>}\n        {this.moreCompetitive && <li><a href=\"smogtours-ubers-34646\" class=\"blocklink\">\n          <small>[gen6-ubers]<br /></small>\n          <strong>steelphoenix</strong> vs. <strong>Jibaku</strong>\n          <small><br />In this SPL Week 4 battle, Jibaku's clever plays with Mega Sableye keep the momentum mostly in his favor.</small>\n        </a></li>}\n        {this.moreCompetitive && <li><a href=\"smogtours-uu-36860\" class=\"blocklink\">\n          <small>[gen6-uu]<br /></small>\n          <strong>IronBullet93</strong> vs. <strong>Laurel</strong>\n          <small><br />Laurel outplays IronBullet's Substitute Tyrantrum with the sly use of a Shuca Berry Cobalion, but luck was inevitably the deciding factor in this SPL Week 6 match.</small>\n        </a></li>}\n        {this.moreCompetitive && <li><a href=\"smogtours-gen5ou-36900\" class=\"blocklink\">\n          <small>[gen5-ou]<br /></small>\n          <strong>Lowgock</strong> vs. <strong>Meridian</strong>\n          <small><br />This SPL Week 6 match features impressive plays, from Jirachi sacrificing itself to paralysis to avoid a burn to some clever late-game switches.</small>\n        </a></li>}\n        {this.moreCompetitive && <li><a href=\"smogtours-gen4ou-36782\" class=\"blocklink\">\n          <small>[gen4-ou]<br /></small>\n          <strong>Heist</strong> vs. <strong>liberty32</strong>\n          <small><br />Starting out as an entry hazard-filled stallfest, this close match is eventually decided by liberty32's efficient use of Aerodactyl.</small>\n        </a></li>}\n        {this.moreCompetitive && <li><a href=\"randombattle-213274483\" class=\"blocklink\">\n          <small>[gen6-randombattle]<br /></small>\n          <strong>The Immortal</strong> vs. <strong>Amphinobite</strong>\n          <small><br />Substitute Lugia and Rotom-Fan take advantage of Slowking's utility and large HP stat, respectively, in this high ladder match.</small>\n        </a></li>}\n      </ul>\n    </section>;\n  }\n}\n\nexport const PSRouter = new class extends PSModel {\n  baseLoc: string;\n  leftLoc: string | null = null;\n  rightLoc: string | null = null;\n  forceSinglePanel = false;\n  stickyRight = true;\n  constructor() {\n    super();\n    const baseLocSlashIndex = document.location.href.lastIndexOf('/');\n    this.baseLoc = document.location.href.slice(0, baseLocSlashIndex + 1);\n    this.go(document.location.href);\n    this.setSinglePanel(true);\n    if (window.history) window.addEventListener('popstate', e => {\n      PSRouter.popState(e);\n      this.update();\n    });\n    window.onresize = () => {\n      PSRouter.setSinglePanel();\n    };\n  }\n  showingLeft() {\n    return this.leftLoc !== null && (!this.forceSinglePanel || this.rightLoc === null);\n  }\n  showingRight() {\n    return this.rightLoc !== null;\n  }\n  setSinglePanel(init?: boolean) {\n    const singlePanel = window.innerWidth < 1300;\n    const stickyRight = (window.innerHeight > 614);\n    if (this.forceSinglePanel !== singlePanel || this.stickyRight !== stickyRight) {\n      this.forceSinglePanel = singlePanel;\n      this.stickyRight = stickyRight;\n      if (!init) this.update();\n    }\n  }\n  push(href: string): boolean {\n    if (!href.startsWith(this.baseLoc)) return false;\n\n    if (this.go(href)) {\n      window.history?.pushState([this.leftLoc, this.rightLoc], '', href);\n    }\n    return true;\n  }\n  /** returns whether the URL should change */\n  go(href: string): boolean {\n    if (!href.startsWith(this.baseLoc)) return false;\n\n    const loc = href.slice(this.baseLoc.length);\n    if (!loc || loc.startsWith('?')) {\n      this.leftLoc = loc;\n      if (this.forceSinglePanel) {\n        this.rightLoc = null;\n      } else {\n        return this.rightLoc === null;\n      }\n    } else {\n      this.rightLoc = loc;\n    }\n    return true;\n  }\n  replace(loc: string) {\n    const href = this.baseLoc + loc;\n    if (this.go(href)) {\n      window.history?.replaceState([this.leftLoc, this.rightLoc], '', href);\n    }\n    return true;\n  }\n  popState(e: PopStateEvent) {\n    if (Array.isArray(e.state)) {\n      const [leftLoc, rightLoc] = e.state;\n      this.leftLoc = leftLoc;\n      this.rightLoc = rightLoc;\n      if (this.forceSinglePanel) this.leftLoc = null;\n    } else {\n      this.leftLoc = null;\n      this.rightLoc = null;\n      this.go(document.location.href);\n    }\n    this.update();\n  }\n};\n\nclass PSReplays extends preact.Component {\n  override componentDidMount() {\n    PSRouter.subscribe(() => this.forceUpdate());\n    if (window.history) {\n      this.base!.addEventListener('click', e => {\n        let el = e.target as HTMLElement;\n        for (; el; el = el.parentNode as HTMLElement) {\n          if (el.tagName === 'A' && PSRouter.push((el as HTMLAnchorElement).href)) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            this.forceUpdate();\n            return;\n          }\n        }\n      });\n    }\n  }\n  override render() {\n    const position = PSRouter.showingLeft() && PSRouter.showingRight() && !PSRouter.stickyRight ?\n      {display: 'flex', flexDirection: 'column', justifyContent: 'flex-end'} : {};\n    return <div class={'bar-wrapper' + (PSRouter.showingLeft() && PSRouter.showingRight() ? ' has-sidebar' : '')} style={position}>\n      {PSRouter.showingLeft() && <SearchPanel id={PSRouter.leftLoc!} />}\n      {PSRouter.showingRight() && <BattlePanel id={PSRouter.rightLoc!} />}\n      <div style={{clear: 'both'}}></div>\n    </div>;\n  }\n}\n\npreact.render(<PSReplays />, document.getElementById('main')!);\n\nif (window.matchMedia?.('(prefers-color-scheme: dark)').matches) {\n  document.documentElement.className = 'dark';\n}\nwindow.matchMedia?.('(prefers-color-scheme: dark)').addEventListener('change', event => {\n  document.documentElement.className = event.matches ? \"dark\" : \"\";\n});\n"],"mappings":"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"}